
字节流与字符流
=========

###概念
Java 流在处理上分为字符流和字节流。

- 字符流处理的单元为2个字节的Unicode字符，分别操作字符、字符数组或字符串。对多国语言支持较好。如果是中文（文本），常用字符流

- 而字节流处理单元为1个字节，操作字节和字节数组。如果是音频文件、图片、歌曲，常用字节流

所有文件的储存是都是字节（byte）的储存，在磁盘上保留的并不是文件的字符而是先把字符编码成字节，再储存这些字节到磁盘。在读取文件（特别是文本文件）时，也是一个字节一个字节地读取以形成字节序列。

字节流可用于任何类型的对象，包括二进制对象，而字符流只能处理字符或者字符串；字节流提供了处理任何类型的IO操作的功能，但它不能直接处理Unicode字符，而字符流就可以。

###IO流
- 字节流 InputStream OutputStream
- 字符流 Reader Writer 

他们都是抽象类，具体实现类
- 字节流 FileInputStream FileOutputStream 
- 字符流 FileReader FileWriter 
- 带缓冲区的字符流BufferdReader BufferedWriter
- 字节流转换成字符流可以用 InputSteamReader OutputStreamWriter 

###转换
字节流转化为字符流，实际上就是byte[]转化为String
```java
public String(byte bytes[], String charsetName)
// 通常省略参数字符集编码，默认用操作系统的编码方式
```
字符流转化为字节流，实际上是String转化为byte[]
```java
byte[] String.getBytes(String charsetName)
```

###示例：
1.读取文件，从字节流输入到字符流输入
```java
try {
    // 定义一个指向d:/text.txt的字节流 
    FileInputStream fileInputStream = new FileInputStream("d:/text.txt");
    
    // 字节流转换成InputStreamReader 
    InputStreamReader inputStreamReader = new InputStreamReader(fileInputStream); 
    
    // InputStreamReader转换为带缓存的bufferedReader 
    BufferedReader bufferedReader = new BufferedReader(inputSteamReader); 
    
    // 将读出来的内容赋值给字符 
    String s = null; 
    while ((s = bufferedReader.readLine()) != null) { 
        System.out.println(s);
    }
} catch (IOException e) {
    e.printStackTrace();
}
```
2.写入文件 从字节流输出到字符流输出 
```java
try {
    // 定义一个指向d:/text.txt文件的字节流
    FileOutputStream fileOutputStream = new FileOutputStream("d:/text.txt");
    // 字节流转换为OutputStreamReader
    OutputStreamWriter outputStreamWriter = new OutputStreamWriter(fileOutputStream); 

    // OutputStreamReader转换为带缓存的bufferedReader 
    BufferedWriter bufferedWriter = new BufferedWriter(outputStreamWriter); 

    bufferedWriter.write(s); 
} catch (IOException e) {
    e.printStackTrace();
} finally {
    bufferedWriter.close(); 
    outputStreamWriter.close(); 
    fileOutputStream.close();
}
```



